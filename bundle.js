"use strict";(()=>{var t=window.document;var o=window.navigator;function s(e){let n=t.getElementsByClassName("console-dom").item(0);n.textContent+=`${e}.    `}async function u(){await o.xr.isSessionSupported("immersive-ar")?s("immersive-ar is supported"):s("immersive-ar is not supported")}async function c(e,n){try{return n.includes("depth-sensing")?await o.xr.requestSession("immersive-ar",{requiredFeatures:[...e,...n],optionalFeatures:["secondary-views","layers"],depthSensing:{usagePreference:["cpu-optimized","gpu-optimized"],dataFormatPreference:["luminance-alpha","float32"]}}):await o.xr.requestSession("immersive-ar",{requiredFeatures:[...e,...n],optionalFeatures:["secondary-views","layers"]})}catch(d){throw s(`requestSession error = ${d.toString()}`),new Error(d.toString())}}async function l(e){}function p(){let e=new Set,n=new Set;t.querySelectorAll(".label").forEach(i=>{i.addEventListener("click",a=>{a.isTrusted&&a.target.previousElementSibling.click()})}),t.addEventListener("dispatchReferenceType",async i=>{let a=await c(Array.from(e),Array.from(n));await l(a)}),t.addEventListener("dispatchModule",async i=>{let a=await c(Array.from(e),Array.from(n));await l(a)}),t.querySelectorAll(".referenceSpaceType").forEach(i=>{i.addEventListener("click",a=>{let r=a.target;r.checked?e.add(r.value):e.delete(r.value),t.dispatchEvent(new CustomEvent("dispatchReferenceType",{detail:e}))})}),t.querySelectorAll(".module").forEach(i=>{i.addEventListener("click",a=>{let r=a.target;r.checked?n.add(r.value):n.delete(r.value),t.dispatchEvent(new CustomEvent("dispatchModule",{detail:n}))})})}async function m(){t.featurePolicy.allowsFeature("xr-spatial-tracking")?s("xr-spatial-tracking is supported"):s("xr-spatial-tracking is not supported"),t.addEventListener("devicechange",e=>{s(`navigator.xr.ondevicechange = ${e.target}`)}),s("\u6A5F\u80FD\u78BA\u8A8D"),p(),await u()}m();})();
