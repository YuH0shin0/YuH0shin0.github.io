"use strict";(()=>{var i=window.document;var a=window.navigator;var m=class{constructor(t,n,o){return new window.XRWebGLLayer(t,n,o)}};function r(e){let t=document.getElementsByClassName("console-dom").item(0);t.textContent+=`${e}.    `}async function l(e){await a.xr.isSessionSupported(e)?r(`${e} is supported`):r(`${e} is not supported`)}async function u(e,t,n){try{return n.includes("depth-sensing")?await a.xr.requestSession("immersive-ar",{requiredFeatures:[...e],optionalFeatures:[...t,...n],depthSensing:{usagePreference:["cpu-optimized","gpu-optimized"],dataFormatPreference:["luminance-alpha","float32"]}}):await a.xr.requestSession("immersive-ar",{requiredFeatures:[...e],optionalFeatures:[...t,...n]})}catch(o){throw r(`requestSession error = ${o.toString()}`),new Error(o.toString())}}var p=new Set,d=new Set,f=new Set;function c(e,t){t.addEventListener("click",n=>{let o=n.target;o.checked?e.add(o.value):e.delete(o.value),document.dispatchEvent(new CustomEvent("dispatchRequestSession"))})}function y(e){e.addEventListener("click",t=>{t.isTrusted&&t.target.previousElementSibling.click()})}function g(e){document.addEventListener("dispatchRequestSession",async s=>{let E=await u(Array.from(p),Array.from(d),Array.from(f));await e(E)}),document.querySelectorAll(".label").forEach(s=>{y(s)}),document.querySelectorAll(".required-features").forEach(s=>{c(p,s)}),document.querySelectorAll(".optional-features").forEach(s=>{c(d,s)}),document.querySelectorAll(".module").forEach(s=>{c(f,s)})}function S(e){return i.featurePolicy.allowsFeature(e,window.origin)}var w=i.createElement("canvas"),R=w.getContext("webgl2",{xrCompatible:!0});function L(e,t){t.session.requestAnimationFrame(L)}async function v(e){e.updateRenderState({baseLayer:new m(e,R)}),e.requestAnimationFrame(L)}async function T(){S("xr-spatial-tracking")?r("xr-spatial-tracking is supported"):r("xr-spatial-tracking is not supported"),r("\u6A5F\u80FD\u78BA\u8A8D"),g(v),await l("immersive-ar")}T();})();
