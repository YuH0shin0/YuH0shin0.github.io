"use strict";(()=>{var m=window.document;var i=window.navigator;var c=class{constructor(t,r,l){return new window.XRWebGLLayer(t,r,l)}};function n(e){let t=document.getElementsByClassName("console-dom").item(0);t.textContent+=`${e}.    `}async function u(e){await i.xr.isSessionSupported(e)?n(`${e} is supported`):n(`${e} is not supported`)}async function d(e,t){try{return t.includes("depth-sensing")?await i.xr.requestSession("immersive-ar",{requiredFeatures:[...e,...t],optionalFeatures:["camera-access"]}):await i.xr.requestSession("immersive-ar",{requiredFeatures:[...e,...t],optionalFeatures:["camera-access"]})}catch(r){throw n(`requestSession error = ${r.toString()}`),new Error(r.toString())}}function S(e){let t=new Set,r=new Set;document.querySelectorAll(".label").forEach(o=>{o.addEventListener("click",a=>{a.isTrusted&&a.target.previousElementSibling.click()})}),document.addEventListener("dispatchReferenceType",async o=>{let a=await d(Array.from(t),Array.from(r));await e(a)}),document.addEventListener("dispatchModule",async o=>{let a=await d(Array.from(t),Array.from(r));await e(a)}),document.querySelectorAll(".referenceSpaceType").forEach(o=>{o.addEventListener("click",a=>{let s=a.target;s.checked?t.add(s.value):t.delete(s.value),document.dispatchEvent(new CustomEvent("dispatchReferenceType",{detail:t}))})}),document.querySelectorAll(".module").forEach(o=>{o.addEventListener("click",a=>{let s=a.target;s.checked?r.add(s.value):r.delete(s.value),document.dispatchEvent(new CustomEvent("dispatchModule",{detail:r}))})})}var y=m.createElement("canvas"),E=y.getContext("webgl2",{xrCompatible:!0}),v,p=new Map;p.set("inline",null);p.set("immersive-ar",null);p.set("immersive-vr",null);function g(e,t){t.session.requestAnimationFrame(g);let l=t.getViewerPose(v);l&&l.views.forEach(f=>{f.camera?n("CAMERA-ACCESS IS SUPPORTED"):n("CAMERA-ACCESS IS NOT SUPPORTED")})}async function L(e){e.addEventListener("end",()=>{n("SESSION END")}),n(`enabledFeaures = ${e.enabledFeatures}`);let t={antialias:!0,depth:!0,stencil:!0,alpha:!0,ignoreDepthValues:!1,framebufferScaleFactor:1},r={depthNear:.1,depthFar:1e3,passthroughFullyObscured:!0,inlineVerticalFieldOfView:null,baseLayer:new c(e,E,t),layers:null};e.updateRenderState({baseLayer:new c(e,E)}),v=await e.requestReferenceSpace("unbounded"),e.requestAnimationFrame(g)}async function R(){m.featurePolicy.allowsFeature("xr-spatial-tracking")?n("xr-spatial-tracking is supported"):n("xr-spatial-tracking is not supported"),n("\u6A5F\u80FD\u78BA\u8A8D"),S(L),await u("inline"),await u("immersive-vr"),await u("immersive-ar")}R();})();
