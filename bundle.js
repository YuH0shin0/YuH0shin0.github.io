"use strict";(()=>{var n=window.document;var o=window.navigator;function s(e){let t=n.getElementsByClassName("console-dom").item(0);t.textContent+=`${e}.    `}async function u(){await o.xr.isSessionSupported("immersive-ar")?s("immersive-ar is supported"):s("immersive-ar is not supported")}async function c(e,t){try{return t.includes("depth-sensing")?await o.xr.requestSession("immersive-ar",{requiredFeatures:[...e,...t],optionalFeatures:["secondary-views","layers"],depthSensing:{usagePreference:["cpu-optimized","gpu-optimized"],dataFormatPreference:["luminance-alpha","float32"]}}):await o.xr.requestSession("immersive-ar",{requiredFeatures:[...e,...t],optionalFeatures:["secondary-views","layers"]})}catch(d){throw s(`requestSession error = ${d.toString()}`),new Error(d.toString())}}async function l(e){}function p(){let e=new Set,t=new Set;n.querySelectorAll(".label").forEach(i=>{i.addEventListener("click",a=>{a.isTrusted&&a.target.previousElementSibling.click()})}),n.addEventListener("dispatchReferenceType",async i=>{let a=await c(Array.from(e),Array.from(t));await l(a)}),n.addEventListener("dispatchModule",async i=>{let a=await c(Array.from(e),Array.from(t));await l(a)}),n.querySelectorAll(".referenceSpaceType").forEach(i=>{i.addEventListener("click",a=>{let r=a.target;r.checked?e.add(r.value):e.delete(r.value),n.dispatchEvent(new CustomEvent("dispatchReferenceType",{detail:e}))})}),n.querySelectorAll(".module").forEach(i=>{i.addEventListener("click",a=>{let r=a.target;r.checked?t.add(r.value):t.delete(r.value),n.dispatchEvent(new CustomEvent("dispatchModule",{detail:t}))})})}async function m(){n.featurePolicy.allowsFeature("xr-spatial-tracking")?s("xr-spatial-tracking is supported"):s("xr-spatial-tracking is not supported"),o.xr.addEventListener("devicechange",e=>{s(`devicechange = ${e.target}`)}),s("\u6A5F\u80FD\u78BA\u8A8D"),p(),await u()}m();})();
