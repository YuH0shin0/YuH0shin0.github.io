"use strict";(()=>{var d=window.document;var o=window.navigator;function e($){let u=d.getElementsByClassName("console-dom").item(0);u.textContent+=`${$}, `}async function l(){e("\u6A5F\u80FD\u78BA\u8A8D"),o.xr.addEventListener("ondevicechange",i=>{i.isTrusted&&e(`${i.type}(${i.target})`)});let u=await o.xr.isSessionSupported("inline");e(`navigator.xr.isSessionSupported('inline') = ${u}`);let g=await o.xr.isSessionSupported("immersive-ar");e(`navigator.xr.isSessionSupported('immersive-ar') = ${g}`);let v=await o.xr.isSessionSupported("immersive-vr");e(`navigator.xr.isSessionSupported('immersive-vr') = ${v}`),d.querySelectorAll(".enter > button").forEach(i=>{let s=i.classList.toString();i.textContent=s,i.addEventListener("click",async a=>{if(!a.isTrusted)return;let t=await o.xr.requestSession("immersive-ar",{requiredFeatures:[s],optionalFeatures:[]});t.addEventListener("onend",r=>{r.isTrusted&&e(`event = ${r.type}(${r.target})`)}),t.addEventListener("onframeratechange",r=>{r.isTrusted&&e(`event = ${r.type}(${r.target})`)}),t.addEventListener("oninputsourceschange",r=>{r.isTrusted&&e(`event = ${r.type}(${r.target})`)}),t.addEventListener("onselect",r=>{r.isTrusted&&e(`event = ${r.type}(${r.target})`)}),t.addEventListener("onselectend",r=>{r.isTrusted&&e(`event = ${r.type}(${r.target})`)}),t.addEventListener("onselectstart",r=>{r.isTrusted&&e(`event = ${r.type}(${r.target})`)}),t.addEventListener("onsqueeze",r=>{r.isTrusted&&e(`event = ${r.type}(${r.target})`)}),t.addEventListener("onsqueezeend",r=>{r.isTrusted&&e(`event = ${r.type}(${r.target})`)}),t.addEventListener("onvisibilitychange",r=>{r.isTrusted&&e(`event = ${r.type}(${r.target})`)}),e(`session.enabledFeatures = ${t.enabledFeatures}`),e(`session.supportedFrameRates = ${t.supportedFrameRates}`),e(`session.frameRate = ${t.frameRate}`),e(`session.inputSources = ${t.inputSources}`);for(let r of t.inputSources){e(`inputsource.gripSpace = ${r.gripSpace}`);let S=r.gripSpace;e(`${S?.toString()}`),e(`inputsource.handedness = ${r.handedness}`),e(`inputsource.profiles = ${r.profiles}`),e(`inputsource.skipRendering = ${r.skipRendering}`),e(`inputsource.targetRayMode = ${r.targetRayMode}`),e(`inputsource.targetRaySpace = ${r.targetRaySpace}`),e(`${r?.targetRaySpace.toString()}`)}e(`session.isSystemKeyboardSupported = ${t.isSystemKeyboardSupported}`),e(`session.renderState = ${t.renderState}`),e(`session.trackedSources = ${t.trackedSources}`);for(let r of t.trackedSources){e(`trackedSource.gripSpace = ${r.gripSpace}`);let S=r.gripSpace;e(`${S?.toString()}`),e(`trackedSource.handedness = ${r.handedness}`),e(`trackedSource.profiles = ${r.profiles}`),e(`trackedSource.skipRendering = ${r.skipRendering}`),e(`trackedSource.targetRayMode = ${r.targetRayMode}`),e(`trackedSource.targetRaySpace = ${r.targetRaySpace}`),e(`${r?.targetRaySpace.toString()}`)}e(`session.visibilityState = ${t.visibilityState}`);let n=t.renderState;e(`renderState.baseLayer = ${n.baseLayer}`),e(`renderState.depthFar = ${n.depthFar}`),e(`renderState.depthNear = ${n.depthNear}`),e(`renderState.inlineVerticalFieldOfView = ${n.inlineVerticalFieldOfView}`),e(`renderState.passthroughFullyObscured = ${n.passthroughFullyObscured}`),e(`WebXR AR module = session.environmentBlendMode = ${t.environmentBlendMode}`),e(`WebXR AR module = session.environmentBlendMode = ${t.interactionMode}`)})});let p=d.querySelector(".ar-module > button");p.textContent=p.classList.toString(),p.addEventListener("click",async i=>{let s=p.classList.toString();if(!i.isTrusted)return;let a=await o.xr.requestSession("immersive-ar",{requiredFeatures:["unbounded"],optionalFeatures:[s]});a.addEventListener("onend",n=>{n.isTrusted&&e(`event = ${n.type}(${n.target})`)}),a.addEventListener("onframeratechange",n=>{n.isTrusted&&e(`event = ${n.type}(${n.target})`)}),a.addEventListener("oninputsourceschange",n=>{n.isTrusted&&e(`event = ${n.type}(${n.target})`)}),a.addEventListener("onselect",n=>{n.isTrusted&&e(`event = ${n.type}(${n.target})`)}),a.addEventListener("onselectend",n=>{n.isTrusted&&e(`event = ${n.type}(${n.target})`)}),a.addEventListener("onselectstart",n=>{n.isTrusted&&e(`event = ${n.type}(${n.target})`)}),a.addEventListener("onsqueeze",n=>{n.isTrusted&&e(`event = ${n.type}(${n.target})`)}),a.addEventListener("onsqueezeend",n=>{n.isTrusted&&e(`event = ${n.type}(${n.target})`)}),a.addEventListener("onvisibilitychange",n=>{n.isTrusted&&e(`event = ${n.type}(${n.target})`)}),e(`session.enabledFeatures = ${a.enabledFeatures}`),e(`session.supportedFrameRates = ${a.supportedFrameRates}`),e(`session.frameRate = ${a.frameRate}`),e(`session.inputSources = ${a.inputSources}`);for(let n of a.inputSources){e(`inputsource.gripSpace = ${n.gripSpace}`);let r=n.gripSpace;e(`${r?.toString()}`),e(`inputsource.handedness = ${n.handedness}`),e(`inputsource.profiles = ${n.profiles}`),e(`inputsource.skipRendering = ${n.skipRendering}`),e(`inputsource.targetRayMode = ${n.targetRayMode}`),e(`inputsource.targetRaySpace = ${n.targetRaySpace}`),e(`${n?.targetRaySpace.toString()}`)}e(`session.isSystemKeyboardSupported = ${a.isSystemKeyboardSupported}`),e(`session.renderState = ${a.renderState}`),e(`session.trackedSources = ${a.trackedSources}`);for(let n of a.trackedSources){e(`trackedSource.gripSpace = ${n.gripSpace}`);let r=n.gripSpace;e(`${r?.toString()}`),e(`trackedSource.handedness = ${n.handedness}`),e(`trackedSource.profiles = ${n.profiles}`),e(`trackedSource.skipRendering = ${n.skipRendering}`),e(`trackedSource.targetRayMode = ${n.targetRayMode}`),e(`trackedSource.targetRaySpace = ${n.targetRaySpace}`),e(`${n?.targetRaySpace.toString()}`)}e(`session.visibilityState = ${a.visibilityState}`);let t=a.renderState;e(`renderState.baseLayer = ${t.baseLayer}`),e(`renderState.depthFar = ${t.depthFar}`),e(`renderState.depthNear = ${t.depthNear}`),e(`renderState.inlineVerticalFieldOfView = ${t.inlineVerticalFieldOfView}`),e(`renderState.passthroughFullyObscured = ${t.passthroughFullyObscured}`),e(`WebXR AR module = session.environmentBlendMode = ${a.environmentBlendMode}`),e(`WebXR AR module = session.environmentBlendMode = ${a.interactionMode}`)});let c=d.querySelector(".depth-sensing-module > button");c.textContent=c.classList.toString(),c.addEventListener("click",async i=>{if(!i.isTrusted)return!1;let s=await o.xr.requestSession("immersive-ar",{requiredFeatures:["depth-sensing"],depthSensing:{usagePreference:["cpu-optimized","gpu-optimized"],dataFormatPreference:["luminance-alpha","float32"]}});e(`WebXR Depth Sensing Module = session.depthUsage = ${s.depthUsage}`),e(`WebXR Depth Sensing Module = session.depthDataFormat = ${s.depthDataFormat}`),e(`WebXR Depth Sensing Module = session.depthType = ${s.depthType}`),e(`WebXR Depth Sensing Module = session.depthActive = ${s.depthActive}`),s.addEventListener("onend",t=>{t.isTrusted&&e(`event = ${t.type}(${t.target})`)}),s.addEventListener("onframeratechange",t=>{t.isTrusted&&e(`event = ${t.type}(${t.target})`)}),s.addEventListener("oninputsourceschange",t=>{t.isTrusted&&e(`event = ${t.type}(${t.target})`)}),s.addEventListener("onselect",t=>{t.isTrusted&&e(`event = ${t.type}(${t.target})`)}),s.addEventListener("onselectend",t=>{t.isTrusted&&e(`event = ${t.type}(${t.target})`)}),s.addEventListener("onselectstart",t=>{t.isTrusted&&e(`event = ${t.type}(${t.target})`)}),s.addEventListener("onsqueeze",t=>{t.isTrusted&&e(`event = ${t.type}(${t.target})`)}),s.addEventListener("onsqueezeend",t=>{t.isTrusted&&e(`event = ${t.type}(${t.target})`)}),s.addEventListener("onvisibilitychange",t=>{t.isTrusted&&e(`event = ${t.type}(${t.target})`)}),e(`session.enabledFeatures = ${s.enabledFeatures}`),e(`session.supportedFrameRates = ${s.supportedFrameRates}`),e(`session.frameRate = ${s.frameRate}`),e(`session.inputSources = ${s.inputSources}`);for(let t of s.inputSources){e(`inputsource.gripSpace = ${t.gripSpace}`);let n=t.gripSpace;e(`${n?.toString()}`),e(`inputsource.handedness = ${t.handedness}`),e(`inputsource.profiles = ${t.profiles}`),e(`inputsource.skipRendering = ${t.skipRendering}`),e(`inputsource.targetRayMode = ${t.targetRayMode}`),e(`inputsource.targetRaySpace = ${t.targetRaySpace}`),e(`${t?.targetRaySpace.toString()}`)}e(`session.isSystemKeyboardSupported = ${s.isSystemKeyboardSupported}`),e(`session.renderState = ${s.renderState}`),e(`session.trackedSources = ${s.trackedSources}`);for(let t of s.trackedSources){e(`trackedSource.gripSpace = ${t.gripSpace}`);let n=t.gripSpace;e(`${n?.toString()}`),e(`trackedSource.handedness = ${t.handedness}`),e(`trackedSource.profiles = ${t.profiles}`),e(`trackedSource.skipRendering = ${t.skipRendering}`),e(`trackedSource.targetRayMode = ${t.targetRayMode}`),e(`trackedSource.targetRaySpace = ${t.targetRaySpace}`),e(`${t?.targetRaySpace.toString()}`)}e(`session.visibilityState = ${s.visibilityState}`);let a=s.renderState;e(`renderState.baseLayer = ${a.baseLayer}`),e(`renderState.depthFar = ${a.depthFar}`),e(`renderState.depthNear = ${a.depthNear}`),e(`renderState.inlineVerticalFieldOfView = ${a.inlineVerticalFieldOfView}`),e(`renderState.passthroughFullyObscured = ${a.passthroughFullyObscured}`),e(`WebXR AR module = session.environmentBlendMode = ${s.environmentBlendMode}`),e(`WebXR AR module = session.environmentBlendMode = ${s.interactionMode}`),e(`WebXR Depth Sensing module = session.resumeDepthSensing() = ${s.resumeDepthSensing()}`)})}l();})();
